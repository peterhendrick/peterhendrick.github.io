<div class="wraphomecontainer milehighmain">
    <a class="projectObj" href="#/services/ski-resort-transportation">
        <div flex class="skiPageLink" id="skiPageLink">
            <h2>Ski Resort Transportation</h2>
        </div>
    </a>
    <a class="projectObj" href="#/services/corporate-travel">
        <div flex class="corporateTravelLink" id="corporateTravelLink">
            <h2>Corporate Travel</h2>
        </div>
    </a>
    <a class="projectObj" href="#/services/airport-transfers">
        <div flex class="airportLink" id="airportLink">
            <h2>Airport Transfers</h2>
        </div>
    </a>
</div>
<ng-include src="'pages/footer.html'"></ng-include>

<script>
    $('.projectObj').bind('click', function (e) {
        e.preventDefault();

        var me = this;
        var width = $(me).width() / 1.5;
        $(me).find('.wrap').width($(me).find('.wrap').width());

        $(me).animate({
            opacity: 0,
            marginLeft: -width
        }, 500);

        var delayN = 150;
        var delayP = 150;

        var nextEl = $(me).nextAll('.projectObj');
        var prevEl = $(me).prevAll('.projectObj');

        nextEl.each(function (index, elem) {
            setTimeout(function () {

                $(elem).find('.wrap').width($(elem).find('.wrap').width());

                $(elem).animate({
                    opacity: 0,
                    marginLeft: -width
                }, 500, function () {
                });
            }, delayN);
            delayN += 100;
        });

        prevEl.each(function (index, elem) {
            setTimeout(function () {
                $(elem).find('.wrap').width($(elem).find('.wrap').width());

                $(elem).animate({
                    opacity: 0,
                    marginLeft: -width
                }, 500, function () {
                });
            }, delayP);
            delayP += 100;
        });

        setTimeout(function () {
            document.location = $(me).attr('href');
        }, 700);

        return false;
    });
</script>
